<div class="form-group" id="loginForm" *ngIf="!loggedIn">
    <input type="text" id="username" placeholder="username" [(ngModel)]="username">
    <input type="password" id="password" placeholder="password" [(ngModel)]="password">
    <button (click)="login()">login</button>
</div>
<button (click)="history()" [disabled]="!loggedIn">hist</button>

<div *ngIf="loggedIn">
    <select (change)="selectedTickerChanged()" [(ngModel)]="selectedTicker">
        <option *ngFor="let ticker of tickers">{{ticker}}</option>
    </select>
    <div *ngIf="tickerInfor.has(selectedTicker)">
        <label class="ticker">{{selectedTicker}}</label>
        <label class="labelspacer">ask</label>
        <label class="ask">{{tickerInfor.get(selectedTicker).askPrice}}</label><label class="asksize">x{{tickerInfor.get(selectedTicker).askSize}}</label>
        <label class="labelspacer">bid</label>
        <label class="bid">{{tickerInfor.get(selectedTicker).bidPrice}}</label><label class="asksize">x{{tickerInfor.get(selectedTicker).bidSize}}</label>
        <label class="labelspacer">mid</label>
        <label id="mid" [ngClass]="(tickerInfor.get(selectedTicker).midPrice >= tickerInfor.get(selectedTicker).lastMidPrice)?'midprice-stonksgoup':'midprice-stonksgodown'">{{tickerInfor.get(selectedTicker).midPrice}}</label>
    </div>
    <div *ngIf="profileInfo.has(selectedTicker)">
        <label>{{profileInfo.get(selectedTicker).description}}</label>
        <label>{{profileInfo.get(selectedTicker).shortSaleRestriction}}</label>
        <label>{{profileInfo.get(selectedTicker).tradingStatus}}</label>
        <label>{{profileInfo.get(selectedTicker).statusReason}}</label>
        <label>{{profileInfo.get(selectedTicker).haltStart.toLocaleString('de-DE', { timeZone: 'UTC' })}}</label>
        <label>{{profileInfo.get(selectedTicker).haltEnd.toLocaleString('de-DE', { timeZone: 'UTC' })}}</label>
        <label>{{profileInfo.get(selectedTicker).highLimitPrice}}</label>
        <label>{{profileInfo.get(selectedTicker).lowLimitPrice}}</label>
        <label>{{profileInfo.get(selectedTicker).high52WeekPrice}}</label>
        <label>{{profileInfo.get(selectedTicker).low52WeekPrice}}</label>
    </div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th *ngFor="let k of headerkeys" id="{{k}}">{{k}}</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let row of displayData">
                <td *ngFor="let k of headerkeys" headers="{{row[k]}}">{{row[k]}}</td>
            </tr>
        </tbody>
    </table>

    <table>
        <label>costbasis</label>
        <tr>
            <th *ngFor="let item of header">{{item}}</th>
        </tr>
        <tr *ngFor="let item of debugEntries">
            <td *ngFor="let k of header">{{item[k]}}</td>
        </tr>
    </table>
</div>